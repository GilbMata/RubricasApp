import{i as ca,bj as da,a as s,c as xe,ak as va,u as Re,d as Ne,am as fa,r as S,aj as ma,w as R,b as u,an as J,C as ha,g as Ce,al as ya,A as Pe,P as T,be as ga,aR as ba,aD as _a,aF as wa,bk as Da,as as oe}from"./index.667e992f.js";import{t as xa,a as Ae,f as Ca,g as qa,j as we,_ as Ma,u as ka}from"./date.19a11155.js";import{p as N}from"./format.c860d4da.js";import{a as Sa}from"./ClosePopup.aa7f118d.js";import{u as Ha,c as Va}from"./position-engine.a6141200.js";import{a as ja}from"./authHeader.bc06fe4e.js";function Qa(){return ca(da)}const Ya=["gregorian","persian"],Oa={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:n=>Ya.includes(n),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Ta=["update:modelValue"];function $(n){return n.year+"/"+N(n.month)+"/"+N(n.day)}function Ia(n,b){const y=s(()=>n.disable!==!0&&n.readonly!==!0),_=s(()=>n.editable===!0?0:-1),g=s(()=>{const v=[];return n.color!==void 0&&v.push(`bg-${n.color}`),n.textColor!==void 0&&v.push(`text-${n.textColor}`),v.join(" ")});function I(){return n.locale!==void 0?{...b.lang.date,...n.locale}:b.lang.date}function w(v){const H=new Date,V=v===!0?null:0;if(n.calendar==="persian"){const q=xa(H);return{year:q.jy,month:q.jm,day:q.jd}}return{year:H.getFullYear(),month:H.getMonth()+1,day:H.getDate(),hour:V,minute:V,second:V,millisecond:V}}return{editable:y,tabindex:_,headerClass:g,getLocale:I,getCurrentDate:w}}const E=20,Fa=["Calendar","Years","Months"],Ee=n=>Fa.includes(n),De=n=>/^-?[\d]+\/[0-1]\d$/.test(n),U=" \u2014 ";function B(n){return n.year+"/"+N(n.month)}var za=xe({name:"QDate",props:{...Oa,...va,...Re,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:De},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:De},navigationMaxYearMonth:{type:String,validator:De},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ee}},emits:[...Ta,"rangeStart","rangeEnd","navigation"],setup(n,{slots:b,emit:y}){const{proxy:_}=Ce(),{$q:g}=_,I=Ne(n,g),{getCache:w}=ka(),{tabindex:v,headerClass:H,getLocale:V,getCurrentDate:q}=Ia(n,g);let Y;const re=fa(n),ue=ya(re),K=S(null),f=S(Ye()),m=S(V()),Qe=s(()=>Ye()),ze=s(()=>V()),O=s(()=>q()),i=S(Oe(f.value,m.value)),M=S(n.defaultView),qe=g.lang.rtl===!0?"right":"left",Z=S(qe.value),ie=S(qe.value),se=i.value.year,p=S(se-se%E-(se<0?E:0)),D=S(null),Le=s(()=>{const e=n.landscape===!0?"landscape":"portrait";return`q-date q-date--${e} q-date--${e}-${n.minimal===!0?"minimal":"standard"}`+(I.value===!0?" q-date--dark q-dark":"")+(n.bordered===!0?" q-date--bordered":"")+(n.square===!0?" q-date--square no-border-radius":"")+(n.flat===!0?" q-date--flat no-shadow":"")+(n.disable===!0?" disabled":n.readonly===!0?" q-date--readonly":"")}),P=s(()=>n.color||"primary"),Q=s(()=>n.textColor||"white"),ee=s(()=>n.emitImmediately===!0&&n.multiple!==!0&&n.range!==!0),ce=s(()=>Array.isArray(n.modelValue)===!0?n.modelValue:n.modelValue!==null&&n.modelValue!==void 0?[n.modelValue]:[]),j=s(()=>ce.value.filter(e=>typeof e=="string").map(e=>me(e,f.value,m.value)).filter(e=>e.dateHash!==null&&e.day!==null&&e.month!==null&&e.year!==null)),z=s(()=>{const e=a=>me(a,f.value,m.value);return ce.value.filter(a=>ma(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:e(a.from),to:e(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),ae=s(()=>n.calendar!=="persian"?e=>new Date(e.year,e.month-1,e.day):e=>{const a=Ae(e.year,e.month,e.day);return new Date(a.gy,a.gm-1,a.gd)}),de=s(()=>n.calendar==="persian"?$:(e,a,t)=>Ca(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),a===void 0?f.value:a,t===void 0?m.value:t,e.year,e.timezoneOffset)),G=s(()=>j.value.length+z.value.reduce((e,a)=>e+1+qa(ae.value(a.to),ae.value(a.from)),0)),Me=s(()=>{if(n.title!==void 0&&n.title!==null&&n.title.length>0)return n.title;if(D.value!==null){const t=D.value.init,o=ae.value(t);return m.value.daysShort[o.getDay()]+", "+m.value.monthsShort[t.month-1]+" "+t.day+U+"?"}if(G.value===0)return U;if(G.value>1)return`${G.value} ${m.value.pluralDay}`;const e=j.value[0],a=ae.value(e);return isNaN(a.valueOf())===!0?U:m.value.headerTitle!==void 0?m.value.headerTitle(a,e):m.value.daysShort[a.getDay()]+", "+m.value.monthsShort[e.month-1]+" "+e.day}),We=s(()=>j.value.concat(z.value.map(a=>a.from)).sort((a,t)=>a.year-t.year||a.month-t.month)[0]),Ue=s(()=>j.value.concat(z.value.map(a=>a.to)).sort((a,t)=>t.year-a.year||t.month-a.month)[0]),ke=s(()=>{if(n.subtitle!==void 0&&n.subtitle!==null&&n.subtitle.length>0)return n.subtitle;if(G.value===0)return U;if(G.value>1){const e=We.value,a=Ue.value,t=m.value.monthsShort;return t[e.month-1]+(e.year!==a.year?" "+e.year+U+t[a.month-1]+" ":e.month!==a.month?U+t[a.month-1]:"")+" "+a.year}return j.value[0].year}),te=s(()=>{const e=[g.iconSet.datetime.arrowLeft,g.iconSet.datetime.arrowRight];return g.lang.rtl===!0?e.reverse():e}),Se=s(()=>n.firstDayOfWeek!==void 0?Number(n.firstDayOfWeek):m.value.firstDayOfWeek),Je=s(()=>{const e=m.value.daysShort,a=Se.value;return a>0?e.slice(a,7).concat(e.slice(0,a)):e}),F=s(()=>{const e=i.value;return n.calendar!=="persian"?new Date(e.year,e.month,0).getDate():we(e.year,e.month)}),Ke=s(()=>typeof n.eventColor=="function"?n.eventColor:()=>n.eventColor),x=s(()=>{if(n.navigationMinYearMonth===void 0)return null;const e=n.navigationMinYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),C=s(()=>{if(n.navigationMaxYearMonth===void 0)return null;const e=n.navigationMaxYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),ve=s(()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return x.value!==null&&x.value.year>=i.value.year&&(e.year.prev=!1,x.value.year===i.value.year&&x.value.month>=i.value.month&&(e.month.prev=!1)),C.value!==null&&C.value.year<=i.value.year&&(e.year.next=!1,C.value.year===i.value.year&&C.value.month<=i.value.month&&(e.month.next=!1)),e}),ne=s(()=>{const e={};return j.value.forEach(a=>{const t=B(a);e[t]===void 0&&(e[t]=[]),e[t].push(a.day)}),e}),He=s(()=>{const e={};return z.value.forEach(a=>{const t=B(a.from),o=B(a.to);if(e[t]===void 0&&(e[t]=[]),e[t].push({from:a.from.day,to:t===o?a.to.day:void 0,range:a}),t<o){let l;const{year:d,month:r}=a.from,c=r<12?{year:d,month:r+1}:{year:d+1,month:1};for(;(l=B(c))<=o;)e[l]===void 0&&(e[l]=[]),e[l].push({from:void 0,to:l===o?a.to.day:void 0,range:a}),c.month++,c.month>12&&(c.year++,c.month=1)}}),e}),X=s(()=>{if(D.value===null)return;const{init:e,initHash:a,final:t,finalHash:o}=D.value,[l,d]=a<=o?[e,t]:[t,e],r=B(l),c=B(d);if(r!==k.value&&c!==k.value)return;const h={};return r===k.value?(h.from=l.day,h.includeFrom=!0):h.from=1,c===k.value?(h.to=d.day,h.includeTo=!0):h.to=F.value,h}),k=s(()=>B(i.value)),Ge=s(()=>{const e={};if(n.options===void 0){for(let t=1;t<=F.value;t++)e[t]=!0;return e}const a=typeof n.options=="function"?n.options:t=>n.options.includes(t);for(let t=1;t<=F.value;t++){const o=k.value+"/"+N(t);e[t]=a(o)}return e}),Xe=s(()=>{const e={};if(n.events===void 0)for(let a=1;a<=F.value;a++)e[a]=!1;else{const a=typeof n.events=="function"?n.events:t=>n.events.includes(t);for(let t=1;t<=F.value;t++){const o=k.value+"/"+N(t);e[t]=a(o)===!0&&Ke.value(o)}}return e}),Ze=s(()=>{let e,a;const{year:t,month:o}=i.value;if(n.calendar!=="persian")e=new Date(t,o-1,1),a=new Date(t,o-1,0).getDate();else{const l=Ae(t,o,1);e=new Date(l.gy,l.gm-1,l.gd);let d=o-1,r=t;d===0&&(d=12,r--),a=we(r,d)}return{days:e.getDay()-Se.value-1,endDay:a}}),Ve=s(()=>{const e=[],{days:a,endDay:t}=Ze.value,o=a<0?a+7:a;if(o<6)for(let r=t-o;r<=t;r++)e.push({i:r,fill:!0});const l=e.length;for(let r=1;r<=F.value;r++){const c={i:r,event:Xe.value[r],classes:[]};Ge.value[r]===!0&&(c.in=!0,c.flat=!0),e.push(c)}if(ne.value[k.value]!==void 0&&ne.value[k.value].forEach(r=>{const c=l+r-1;Object.assign(e[c],{selected:!0,unelevated:!0,flat:!1,color:P.value,textColor:Q.value})}),He.value[k.value]!==void 0&&He.value[k.value].forEach(r=>{if(r.from!==void 0){const c=l+r.from-1,h=l+(r.to||F.value)-1;for(let _e=c;_e<=h;_e++)Object.assign(e[_e],{range:r.range,unelevated:!0,color:P.value,textColor:Q.value});Object.assign(e[c],{rangeFrom:!0,flat:!1}),r.to!==void 0&&Object.assign(e[h],{rangeTo:!0,flat:!1})}else if(r.to!==void 0){const c=l+r.to-1;for(let h=l;h<=c;h++)Object.assign(e[h],{range:r.range,unelevated:!0,color:P.value,textColor:Q.value});Object.assign(e[c],{flat:!1,rangeTo:!0})}else{const c=l+F.value-1;for(let h=l;h<=c;h++)Object.assign(e[h],{range:r.range,unelevated:!0,color:P.value,textColor:Q.value})}}),X.value!==void 0){const r=l+X.value.from-1,c=l+X.value.to-1;for(let h=r;h<=c;h++)e[h].color=P.value,e[h].editRange=!0;X.value.includeFrom===!0&&(e[r].editRangeFrom=!0),X.value.includeTo===!0&&(e[c].editRangeTo=!0)}i.value.year===O.value.year&&i.value.month===O.value.month&&(e[l+O.value.day-1].today=!0);const d=e.length%7;if(d>0){const r=7-d;for(let c=1;c<=r;c++)e.push({i:c,fill:!0})}return e.forEach(r=>{let c="q-date__calendar-item ";r.fill===!0?c+="q-date__calendar-item--fill":(c+=`q-date__calendar-item--${r.in===!0?"in":"out"}`,r.range!==void 0&&(c+=` q-date__range${r.rangeTo===!0?"-to":r.rangeFrom===!0?"-from":""}`),r.editRange===!0&&(c+=` q-date__edit-range${r.editRangeFrom===!0?"-from":""}${r.editRangeTo===!0?"-to":""}`),(r.range!==void 0||r.editRange===!0)&&(c+=` text-${r.color}`)),r.classes=c}),e}),pe=s(()=>n.disable===!0?{"aria-disabled":"true"}:n.readonly===!0?{"aria-readonly":"true"}:{});R(()=>n.modelValue,e=>{if(Y===e)Y=0;else{const{year:a,month:t}=Oe(f.value,m.value);L(a,t)}}),R(M,()=>{K.value!==null&&_.$el.contains(document.activeElement)===!0&&K.value.focus()}),R(()=>i.value.year,e=>{y("navigation",{year:e,month:i.value.month})}),R(()=>i.value.month,e=>{y("navigation",{year:i.value.year,month:e})}),R(Qe,e=>{Be(e,m.value,"mask"),f.value=e}),R(ze,e=>{Be(f.value,e,"locale"),m.value=e});function je(){const e=O.value,a=ne.value[B(e)];(a===void 0||a.includes(e.day)===!1)&&ye(e),fe(e.year,e.month)}function ea(e){Ee(e)===!0&&(M.value=e)}function aa(e,a){["month","year"].includes(e)&&(e==="month"?Ie:he)(a===!0?-1:1)}function fe(e,a){M.value="Calendar",L(e,a)}function ta(e,a){if(n.range===!1||!e){D.value=null;return}const t=Object.assign({...i.value},e),o=a!==void 0?Object.assign({...i.value},a):t;D.value={init:t,initHash:$(t),final:o,finalHash:$(o)},fe(t.year,t.month)}function Ye(){return n.calendar==="persian"?"YYYY/MM/DD":n.mask}function me(e,a,t){return Ma(e,a,t,n.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Oe(e,a){const t=Array.isArray(n.modelValue)===!0?n.modelValue:n.modelValue?[n.modelValue]:[];if(t.length===0)return Te();const o=t[t.length-1],l=me(o.from!==void 0?o.from:o,e,a);return l.dateHash===null?Te():l}function Te(){let e,a;if(n.defaultYearMonth!==void 0){const t=n.defaultYearMonth.split("/");e=parseInt(t[0],10),a=parseInt(t[1],10)}else{const t=O.value!==void 0?O.value:q();e=t.year,a=t.month}return{year:e,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:e+"/"+N(a)+"/01"}}function Ie(e){let a=i.value.year,t=Number(i.value.month)+e;t===13?(t=1,a++):t===0&&(t=12,a--),L(a,t),ee.value===!0&&le("month")}function he(e){const a=Number(i.value.year)+e;L(a,i.value.month),ee.value===!0&&le("year")}function na(e){L(e,i.value.month),M.value=n.defaultView==="Years"?"Months":"Calendar",ee.value===!0&&le("year")}function la(e){L(i.value.year,e),M.value="Calendar",ee.value===!0&&le("month")}function oa(e,a){const t=ne.value[a];(t!==void 0&&t.includes(e.day)===!0?ge:ye)(e)}function A(e){return{year:e.year,month:e.month,day:e.day}}function L(e,a){x.value!==null&&e<=x.value.year&&(e=x.value.year,a<x.value.month&&(a=x.value.month)),C.value!==null&&e>=C.value.year&&(e=C.value.year,a>C.value.month&&(a=C.value.month));const t=e+"/"+N(a)+"/01";t!==i.value.dateHash&&(Z.value=i.value.dateHash<t==(g.lang.rtl!==!0)?"left":"right",e!==i.value.year&&(ie.value=Z.value),Pe(()=>{p.value=e-e%E-(e<0?E:0),Object.assign(i.value,{year:e,month:a,day:1,dateHash:t})}))}function Fe(e,a,t){const o=e!==null&&e.length===1&&n.multiple===!1?e[0]:e;Y=o;const{reason:l,details:d}=$e(a,t);y("update:modelValue",o,l,d)}function le(e){const a=j.value[0]!==void 0&&j.value[0].dateHash!==null?{...j.value[0]}:{...i.value};Pe(()=>{a.year=i.value.year,a.month=i.value.month;const t=n.calendar!=="persian"?new Date(a.year,a.month,0).getDate():we(a.year,a.month);a.day=Math.min(Math.max(1,a.day),t);const o=W(a);Y=o;const{details:l}=$e("",a);y("update:modelValue",o,e,l)})}function $e(e,a){return a.from!==void 0?{reason:`${e}-range`,details:{...A(a.target),from:A(a.from),to:A(a.to)}}:{reason:`${e}-day`,details:A(a)}}function W(e,a,t){return e.from!==void 0?{from:de.value(e.from,a,t),to:de.value(e.to,a,t)}:de.value(e,a,t)}function ye(e){let a;if(n.multiple===!0)if(e.from!==void 0){const t=$(e.from),o=$(e.to),l=j.value.filter(r=>r.dateHash<t||r.dateHash>o),d=z.value.filter(({from:r,to:c})=>c.dateHash<t||r.dateHash>o);a=l.concat(d).concat(e).map(r=>W(r))}else{const t=ce.value.slice();t.push(W(e)),a=t}else a=W(e);Fe(a,"add",e)}function ge(e){if(n.noUnset===!0)return;let a=null;if(n.multiple===!0&&Array.isArray(n.modelValue)===!0){const t=W(e);e.from!==void 0?a=n.modelValue.filter(o=>o.from!==void 0?o.from!==t.from&&o.to!==t.to:!0):a=n.modelValue.filter(o=>o!==t),a.length===0&&(a=null)}Fe(a,"remove",e)}function Be(e,a,t){const o=j.value.concat(z.value).map(l=>W(l,e,a)).filter(l=>l.from!==void 0?l.from.dateHash!==null&&l.to.dateHash!==null:l.dateHash!==null);y("update:modelValue",(n.multiple===!0?o:o[0])||null,t)}function ra(){if(n.minimal!==!0)return u("div",{class:"q-date__header "+H.value},[u("div",{class:"relative-position"},[u(J,{name:"q-transition--fade"},()=>u("div",{key:"h-yr-"+ke.value,class:"q-date__header-subtitle q-date__header-link "+(M.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:v.value,...w("vY",{onClick(){M.value="Years"},onKeyup(e){e.keyCode===13&&(M.value="Years")}})},[ke.value]))]),u("div",{class:"q-date__header-title relative-position flex no-wrap"},[u("div",{class:"relative-position col"},[u(J,{name:"q-transition--fade"},()=>u("div",{key:"h-sub"+Me.value,class:"q-date__header-title-label q-date__header-link "+(M.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:v.value,...w("vC",{onClick(){M.value="Calendar"},onKeyup(e){e.keyCode===13&&(M.value="Calendar")}})},[Me.value]))]),n.todayBtn===!0?u(T,{class:"q-date__header-today self-start",icon:g.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:v.value,onClick:je}):null])])}function be({label:e,type:a,key:t,dir:o,goTo:l,boundaries:d,cls:r}){return[u("div",{class:"row items-center q-date__arrow"},[u(T,{round:!0,dense:!0,size:"sm",flat:!0,icon:te.value[0],tabindex:v.value,disable:d.prev===!1,...w("go-#"+a,{onClick(){l(-1)}})})]),u("div",{class:"relative-position overflow-hidden flex flex-center"+r},[u(J,{name:"q-transition--jump-"+o},()=>u("div",{key:t},[u(T,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:v.value,...w("view#"+a,{onClick:()=>{M.value=a}})})]))]),u("div",{class:"row items-center q-date__arrow"},[u(T,{round:!0,dense:!0,size:"sm",flat:!0,icon:te.value[1],tabindex:v.value,disable:d.next===!1,...w("go+#"+a,{onClick(){l(1)}})})])]}const ua={Calendar:()=>[u("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[u("div",{class:"q-date__navigation row items-center no-wrap"},be({label:m.value.months[i.value.month-1],type:"Months",key:i.value.month,dir:Z.value,goTo:Ie,boundaries:ve.value.month,cls:" col"}).concat(be({label:i.value.year,type:"Years",key:i.value.year,dir:ie.value,goTo:he,boundaries:ve.value.year,cls:""}))),u("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Je.value.map(e=>u("div",{class:"q-date__calendar-item"},[u("div",e)]))),u("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[u(J,{name:"q-transition--slide-"+Z.value},()=>u("div",{key:k.value,class:"q-date__calendar-days fit"},Ve.value.map(e=>u("div",{class:e.classes},[e.in===!0?u(T,{class:e.today===!0?"q-date__today":"",dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:v.value,...w("day#"+e.i,{onClick:()=>{ia(e.i)},onMouseover:()=>{sa(e.i)}})},e.event!==!1?()=>u("div",{class:"q-date__event bg-"+e.event}):null):u("div",""+e.i)]))))])])],Months(){const e=i.value.year===O.value.year,a=o=>x.value!==null&&i.value.year===x.value.year&&x.value.month>o||C.value!==null&&i.value.year===C.value.year&&C.value.month<o,t=m.value.monthsShort.map((o,l)=>{const d=i.value.month===l+1;return u("div",{class:"q-date__months-item flex flex-center"},[u(T,{class:e===!0&&O.value.month===l+1?"q-date__today":null,flat:d!==!0,label:o,unelevated:d,color:d===!0?P.value:null,textColor:d===!0?Q.value:null,tabindex:v.value,disable:a(l+1),...w("month#"+l,{onClick:()=>{la(l+1)}})})])});return n.yearsInMonthView===!0&&t.unshift(u("div",{class:"row no-wrap full-width"},[be({label:i.value.year,type:"Years",key:i.value.year,dir:ie.value,goTo:he,boundaries:ve.value.year,cls:" col"})])),u("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},t)},Years(){const e=p.value,a=e+E,t=[],o=l=>x.value!==null&&x.value.year>l||C.value!==null&&C.value.year<l;for(let l=e;l<=a;l++){const d=i.value.year===l;t.push(u("div",{class:"q-date__years-item flex flex-center"},[u(T,{key:"yr"+l,class:O.value.year===l?"q-date__today":null,flat:!d,label:l,dense:!0,unelevated:d,color:d===!0?P.value:null,textColor:d===!0?Q.value:null,tabindex:v.value,disable:o(l),...w("yr#"+l,{onClick:()=>{na(l)}})})]))}return u("div",{class:"q-date__view q-date__years flex flex-center"},[u("div",{class:"col-auto"},[u(T,{round:!0,dense:!0,flat:!0,icon:te.value[0],tabindex:v.value,disable:o(e),...w("y-",{onClick:()=>{p.value-=E}})})]),u("div",{class:"q-date__years-content col self-stretch row items-center"},t),u("div",{class:"col-auto"},[u(T,{round:!0,dense:!0,flat:!0,icon:te.value[1],tabindex:v.value,disable:o(a),...w("y+",{onClick:()=>{p.value+=E}})})])])}};function ia(e){const a={...i.value,day:e};if(n.range===!1){oa(a,k.value);return}if(D.value===null){const t=Ve.value.find(l=>l.fill!==!0&&l.i===e);if(n.noUnset!==!0&&t.range!==void 0){ge({target:a,from:t.range.from,to:t.range.to});return}if(t.selected===!0){ge(a);return}const o=$(a);D.value={init:a,initHash:o,final:a,finalHash:o},y("rangeStart",A(a))}else{const t=D.value.initHash,o=$(a),l=t<=o?{from:D.value.init,to:a}:{from:a,to:D.value.init};D.value=null,ye(t===o?a:{target:a,...l}),y("rangeEnd",{from:A(l.from),to:A(l.to)})}}function sa(e){if(D.value!==null){const a={...i.value,day:e};Object.assign(D.value,{final:a,finalHash:$(a)})}}return Object.assign(_,{setToday:je,setView:ea,offsetCalendar:aa,setCalendarTo:fe,setEditingRange:ta}),()=>{const e=[u("div",{class:"q-date__content col relative-position"},[u(J,{name:"q-transition--fade"},ua[M.value])])],a=ha(b.default);return a!==void 0&&e.push(u("div",{class:"q-date__actions"},a)),n.name!==void 0&&n.disable!==!0&&ue(e,"push"),u("div",{class:Le.value,...pe.value},[ra(),u("div",{ref:K,class:"q-date__main col column",tabindex:-1},e)])}}}),La=xe({name:"QPopupProxy",props:{...Ha,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(n,{slots:b,emit:y,attrs:_}){const{proxy:g}=Ce(),{$q:I}=g,w=S(!1),v=S(null),H=s(()=>parseInt(n.breakpoint,10)),{canShow:V}=Va({showing:w});function q(){return I.screen.width<H.value||I.screen.height<H.value?"dialog":"menu"}const Y=S(q()),re=s(()=>Y.value==="menu"?{maxHeight:"99vh"}:{});R(()=>q(),f=>{w.value!==!0&&(Y.value=f)});function ue(f){w.value=!0,y("show",f)}function K(f){w.value=!1,Y.value=q(),y("hide",f)}return Object.assign(g,{show(f){V(f)===!0&&v.value.show(f)},hide(f){v.value.hide(f)},toggle(f){v.value.toggle(f)}}),ga(g,"currentComponent",()=>({type:Y.value,ref:v.value})),()=>{const f={ref:v,...re.value,..._,onShow:ue,onHide:K};let m;return Y.value==="dialog"?m=ba:(m=Sa,Object.assign(f,{target:n.target,contextMenu:n.contextMenu,noParentEvent:!0,separateClosePopup:!0})),u(m,f,b.default)}}}),Wa=xe({name:"QInnerLoading",props:{...Re,..._a,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(n,{slots:b}){const y=Ce(),_=Ne(n,y.proxy.$q),{transitionProps:g,transitionStyle:I}=wa(n),w=s(()=>"q-inner-loading absolute-full column flex-center"+(_.value===!0?" q-inner-loading--dark":"")),v=s(()=>"q-inner-loading__label"+(n.labelClass!==void 0?` ${n.labelClass}`:""));function H(){const q=[u(Da,{size:n.size,color:n.color})];return n.label!==void 0&&q.push(u("div",{class:v.value,style:n.labelStyle},[n.label])),q}function V(){return n.showing===!0?u("div",{class:w.value,style:I.value},b.default!==void 0?b.default():H()):null}return()=>u(J,g.value,V)}});class $a{async getDates(b,y){try{return await oe.post("/urdates",{uuid:b,startdate:y,enddate:y})}catch(_){return console.error(_),_}}async getData(b,y){try{return await oe.post("/urdata",{uuid:b,date:y})}catch(_){return console.error(_),_}}async getAvg(b,y,_){try{return await oe.post("/userrubrica/avg",{uuid:b,startdate:y,enddate:_})}catch(g){return console.error(g),g}}async getUsers(){try{return await oe.get("/users",{headers:ja()})}catch(b){return console.error(b),b}}}var Ua=new $a;export{La as Q,za as a,Wa as b,Ua as d,Qa as u};
