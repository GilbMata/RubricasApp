import{az as C,r as u,E as k,a as z,G as P,H as $,I as i,J as t,L as A,S as d,aC as m,bn as s,Q as f,P as g,ay as b}from"./index.302b6eaf.js";import{Q as E}from"./QSelect.c83c1a9a.js";import{Q as I}from"./QForm.ac6d8203.js";import{Q as N}from"./QPage.9da0b17f.js";import{b as S,c as Z}from"./QLayout.0e00a024.js";import{U as h}from"./userService.3498458a.js";import"./QChip.c0577f4d.js";import"./selection.d8d846f4.js";import"./QItem.89604af6.js";import"./format.2bc25e5f.js";import"./authHeader.38407fc4.js";const B={class:"q-pa",style:{width:"80%"}},F={class:"row wrap col q-gutter-md"},G={class:"row q-gutter-md"},L={class:"row q-gutter-md"},R={class:"row q-gutter-x-md"},D={class:"row q-gutter-x-md"},H={class:"row q-mt-lg q-ml-auto q-mb-xl"},oe={__name:"RegistrerPage",setup(J){const y=C(),v=u(null);u(""),u("");const V=["M","F"],n=u(!0);u("password"),u("visibility");const w=k();z(()=>w.$state.loggedIn);var l=u({firstname:"",lastname:"",age:"",gender:"",occupation:"",school:"",email:"",password:"",passwordconfirm:""});const r=u({length:!1,capital:!1,number:!1,symbol:!1,same:!1});function c(a){return a&&a.length>0||"El campo es requerido"}function p(a){return a&&a.length>=3||"El valor es demasiado corto"}function x(a){return a&&a.length>5||"La contrase\xF1a debe contener al menos una letra min\xFAscula, un n\xFAmero, un car\xE1cter especial y una letra may\xFAscula "}function U(a){return/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/.test(a)||"Ingrese el correo electr\xF3nico correcto"}function q(a){return a&&a===l.value.password||"Debe coincidir con la contrase\xF1a."}function Q(a){if(!!a)return r.value.length=a.length>=6,r.value.capital=/^(?=.*[A-Z]).*$/.test(a),r.value.number=/^(?=.*[0-9]).*$/.test(a),r.value.symbol=/^(?=.*[^\w\d\s]).*$/.test(a),r.value.same=l.value.password===l.value.passwordconfirm,r.value.length&&r.value.capital&&r.value.number&&r.value.symbol}function _(a){console.log("\u{1F680} ~ values:",a),v.value.validate().then(async e=>{if(e)try{await h.saveUser(l.value),b.create({icon:"done",color:"positive",message:"Usuario creado"}),y.replace({name:"login"})}catch(o){console.log(o),b.create({icon:"error",color:"negative",message:o.response.data.msg})}}).catch(e=>{console.log("\u{1F680} ~ submit ~ err",e)})}return(a,e)=>(P(),$(S,null,{default:i(()=>[t(Z,null,{default:i(()=>[t(N,{class:"flex column flex-center",style:{backgroun:"linear-gradient(#bdc3c7, #2c3e50)"}},{default:i(()=>[A(" setup "),d("div",B,[t(I,{prevent:"",ref_key:"myForm",ref:v,onSubmit:_,class:"fit column content-center q-gutter-xs"},{default:i(()=>[d("div",F,[t(m,{modelValue:s(l).firstname,"onUpdate:modelValue":e[0]||(e[0]=o=>s(l).firstname=o),type:"text",dense:"",label:"Nombre",rules:[p,c],class:"col-xs-12 col-md"},null,8,["modelValue","rules"]),t(m,{modelValue:s(l).lastname,"onUpdate:modelValue":e[1]||(e[1]=o=>s(l).lastname=o),type:"text",dense:"",label:"Apellido",rules:[p,c],class:"col-xs-12 col-md"},null,8,["modelValue","rules"])]),d("div",G,[t(m,{modelValue:s(l).email,"onUpdate:modelValue":e[2]||(e[2]=o=>s(l).email=o),type:"email",dense:"",label:"Correo",rules:[c,U,p],"lazy-rules":"",class:"col-xs-12 col-md"},null,8,["modelValue","rules"])]),d("div",L,[t(m,{modelValue:s(l).age,"onUpdate:modelValue":e[3]||(e[3]=o=>s(l).age=o),type:"number",label:"Edad",class:"col col-md"},null,8,["modelValue"]),t(E,{modelValue:s(l).gender,"onUpdate:modelValue":e[4]||(e[4]=o=>s(l).gender=o),options:V,label:"Genero",class:"col col-md"},null,8,["modelValue"])]),d("div",R,[t(m,{modelValue:s(l).occupation,"onUpdate:modelValue":e[5]||(e[5]=o=>s(l).occupation=o),type:"text",label:"Ocupaci\xF3n",class:"col col-md"},null,8,["modelValue"]),t(m,{modelValue:s(l).school,"onUpdate:modelValue":e[6]||(e[6]=o=>s(l).school=o),type:"text",label:"Estudios",class:"col-xs-5 col-md","lazy-rules":""},null,8,["modelValue"])]),d("div",D,[t(m,{modelValue:s(l).password,"onUpdate:modelValue":e[8]||(e[8]=o=>s(l).password=o),label:"Contrase\xF1a",type:n.value?"password":"text","lazy-rules":"",rules:[c,x,p],class:"col-xs-12 col-md"},{prepend:i(()=>[t(f,{name:"lock"})]),append:i(()=>[t(f,{name:n.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[7]||(e[7]=o=>n.value=!n.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),t(m,{modelValue:s(l).passwordconfirm,"onUpdate:modelValue":e[10]||(e[10]=o=>s(l).passwordconfirm=o),label:"Confirmar contrase\xF1a",type:n.value?"password":"text",rules:[q],class:"col-xs-12 col-md",disable:!Q(s(l).password)},{prepend:i(()=>[t(f,{name:"lock"})]),append:i(()=>[t(f,{name:n.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[9]||(e[9]=o=>n.value=!n.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules","disable"])]),d("div",H,[t(g,{flat:"",type:"submit",label:"Guardar",color:"primary"}),t(g,{flat:"",label:"Cancelar",color:"primary",to:"login"})])]),_:1},512)])]),_:1})]),_:1})]),_:1}))}};export{oe as default};
