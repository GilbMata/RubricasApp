import{a as c,c as R,q as E,t as N,r,bl as U,x as M,a3 as O,b,P as z,C as j,m as Z,bm as H,Q as m,g as K,_ as D,au as G,E as J,G as V,H as k,I as o,J as t,S as _,aN as W,aO as A,M as T,L as Y,ax as P,K as F,aQ as X}from"./index.667e992f.js";import{Q as $}from"./QTooltip.2dadcf6f.js";import{Q as ee}from"./QForm.d24a03ec.js";import{Q as ae}from"./QPage.a8222513.js";import{b as le,c as te}from"./QLayout.45fb7f8c.js";import"./position-engine.a6141200.js";import"./selection.2879ee5e.js";const ne=["top","right","bottom","left"],oe={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:a=>ne.includes(a)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function ie(a,l){return{formClass:c(()=>`q-fab--form-${a.square===!0?"square":"rounded"}`),stacked:c(()=>a.externalLabel===!1&&["top","bottom"].includes(a.labelPosition)),labelProps:c(()=>{if(a.externalLabel===!0){const u=a.hideLabel===null?l.value===!1:a.hideLabel;return{action:"push",data:{class:[a.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${a.labelPosition}`+(u===!0?" q-fab__label--external-hidden":"")],style:a.labelStyle}}}return{action:["left","top"].includes(a.labelPosition)?"unshift":"push",data:{class:[a.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${a.labelPosition}`+(a.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:a.labelStyle}}})}}const se=["up","right","down","left"],re=["left","center","right"];var ce=R({name:"QFab",props:{...oe,...E,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:a=>se.includes(a)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:a=>re.includes(a)}},emits:N,setup(a,{slots:l}){const u=r(null),e=r(a.modelValue===!0),v=U(),{proxy:{$q:g}}=K(),{formClass:i,labelProps:p}=ie(a,e),d=c(()=>a.persistent!==!0),{hide:f,toggle:q}=M({showing:e,hideOnRouteChange:d}),y=c(()=>({opened:e.value})),w=c(()=>`q-fab z-fab row inline justify-center q-fab--align-${a.verticalActionsAlign} ${i.value}`+(e.value===!0?" q-fab--opened":" q-fab--closed")),L=c(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${a.direction} q-fab__actions--${e.value===!0?"opened":"closed"}`),Q=c(()=>{const s={id:v,role:"menu"};return e.value!==!0&&(s["aria-hidden"]="true"),s}),B=c(()=>`q-fab__icon-holder  q-fab__icon-holder--${e.value===!0?"opened":"closed"}`);function x(s,C){const S=l[s],n=`q-fab__${s} absolute-full`;return S===void 0?b(m,{class:n,name:a[C]||g.iconSet.fab[C]}):b("div",{class:n},S(y.value))}function I(){const s=[];return a.hideIcon!==!0&&s.push(b("div",{class:B.value},[x("icon","icon"),x("active-icon","activeIcon")])),(a.label!==""||l.label!==void 0)&&s[p.value.action](b("div",p.value.data,l.label!==void 0?l.label(y.value):[a.label])),Z(l.tooltip,s)}return O(H,{showing:e,onChildClick(s){f(s),u.value!==null&&u.value.$el.focus()}}),()=>b("div",{class:w.value},[b(z,{ref:u,class:i.value,...a,noWrap:!0,stack:a.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":e.value===!0?"true":"false","aria-haspopup":"true","aria-controls":v,onClick:q},I),b("div",{class:L.value,...Q.value},j(l.default))])}});const ue={name:"LoginPage",setup(){G();const a=r(null),l=r("\xA1Bienvenido!"),u=r("Inicie session"),e=r("Entrar"),v=r(""),g=r(""),i=r(""),p=r(""),d=r(!1);let f=!1;const q=r("password"),y=r("visibility"),w=J();return c(()=>w.$state.loggedIn),{myForm:a,title:l,title2:u,email:i,username:v,password:g,repassword:p,register:d,passwordFieldType:q,btnLabel:e,visibility:f,visibilityIcon:y,required:L,diffPassword:Q,short:B,pwd:x,isEmail:I,submit:s,switchTypeForm:C,switchVisibility:S};function L(n){return n&&n.length>0||"El campo es requerido"}function Q(n){return n&&n===g.value||"\xA1Las contrase\xF1as no coincide!"}function B(n){return n&&n.length>3||"El valor es demasiado corto"}function x(n){return n&&n.length>5||"La contrase\xF1a debe contener al menos una letra min\xFAscula, un n\xFAmero, un car\xE1cter especial y una letra may\xFAscula "}function I(n){return/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/.test(n)||"Ingrese el correo electr\xF3nico correcto"}function s(n){a.value.validate().then(async h=>{h&&await w.login(i.value,g.value)}).catch(h=>{console.log("\u{1F680} ~ submit ~ err",h)})}function C(){d.value=!d.value,l.value=d.value?"Registro":"Bienvenido",u.value=d.value?"Nuevo usuario":"Inicie session",e.value=d.value?"Registro":"Entrada"}function S(){f=!f,q.value=f?"text":"password",y.value=f?"visibility_off":"visibility"}}},de={class:"column q-pa-lg"},fe={class:"row"},be={class:"text-h4 text-white q-my-md"},me={class:"text-h6 text-white q-my-md"},ge=_("p",{class:"text-grey-6"},"\xBFOlvidaste tu contrase\xF1a?",-1);function ve(a,l,u,e,v,g){return V(),k(le,{view:"lHh Lpr fff"},{default:o(()=>[t(te,null,{default:o(()=>[t(ae,{class:"window-height window-width row justify-center items-center",style:{background:"linear-gradient(#bdc3c7, #2c3e50)"}},{default:o(()=>[_("div",de,[_("div",fe,[t(W,{class:"shadow-24",style:{width:"400px",height:"540px"}},{default:o(()=>[t(A,{class:"bg-grey-7"},{default:o(()=>[_("div",be,T(e.title),1),_("div",me,T(e.title2),1)]),_:1}),t(A,null,{default:o(()=>[t(ce,{color:"primary",icon:"add",class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"},onClick:e.switchTypeForm},{default:o(()=>[t($,null,{default:o(()=>[Y(" Registro de nuevo usuario ")]),_:1})]),_:1},8,["onClick"]),t(ee,{ref:"myForm",class:"q-px-sm q-pt-xl",prevent:""},{default:o(()=>[t(P,{ref:"emailref",modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=i=>e.email=i),square:"",clearable:"",type:"email","lazy-rules":"",rules:[e.required,e.isEmail,e.short],label:"Email"},{prepend:o(()=>[t(m,{name:"email"})]),_:1},8,["modelValue","rules"]),e.register?(V(),k(P,{key:0,ref:"usernameRef",modelValue:e.username,"onUpdate:modelValue":l[1]||(l[1]=i=>e.username=i),square:"",clearable:"","lazy-rules":"",rules:[e.required,e.short],type:"username",label:"Usuario"},{prepend:o(()=>[t(m,{name:"person"})]),_:1},8,["modelValue","rules"])):F("",!0),t(P,{ref:"passwordRef",modelValue:e.password,"onUpdate:modelValue":l[2]||(l[2]=i=>e.password=i),type:e.passwordFieldType,"lazy-rules":"",rules:[e.required],label:"Contrase\xF1a"},{prepend:o(()=>[t(m,{name:"lock"})]),append:o(()=>[t(m,{name:e.visibilityIcon,class:"cursor-pointer",onClick:e.switchVisibility},null,8,["name","onClick"])]),_:1},8,["modelValue","type","rules"]),e.register?(V(),k(P,{key:1,ref:"repassword2Ref",modelValue:e.repassword,"onUpdate:modelValue":l[3]||(l[3]=i=>e.repassword=i),square:"",clearable:"",type:e.passwordFieldType,"lazy-rules":"",rules:[e.required,e.short,e.diffPassword],label:"Repita la contrase\xF1a"},{prepend:o(()=>[t(m,{name:"lock"})]),append:o(()=>[t(m,{name:e.visibilityIcon,class:"cursor-pointer",onClick:e.switchVisibility},null,8,["name","onClick"])]),_:1},8,["modelValue","type","rules"])):F("",!0)]),_:1},512)]),_:1}),t(X,{class:"q-px-lg"},{default:o(()=>[t(z,{unelevated:"",size:"lg",color:"primary",class:"full-width text-white",label:e.btnLabel,onClick:e.submit},null,8,["label","onClick"])]),_:1}),e.register?F("",!0):(V(),k(A,{key:0,class:"text-center q-pa-sm"},{default:o(()=>[ge]),_:1}))]),_:1})])])]),_:1})]),_:1})]),_:1})}var Ce=D(ue,[["render",ve]]);export{Ce as default};
